---
layout:     post
title:      "地理知识图谱「 1 」"
subtitle:   "地理空间语义网概述"
date:       2020-05-27 10:00:00
author:     "西山晴雪"
header-img: "img/post-bg-android.jpg"
categories: Geographic Knowledge Graph
tags:
    - 地理知识图谱
    - 地理空间语义网
    - Geospatial Sematic Web
    - 
    - GeoParsing
    - GeoCoding       
    - 地名解析
    - 地名识别
    - 地理编码
---



# 地理空间语义网概述

**摘要：**

​		地理知识图谱的确切概念很难完整定义，从目前技术发展脉络来看，国内外主要存在两个技术领域或流派：

​		一是**地理空间语义网**，参与研究的主要群体是地理空间信息科学领域的专家和团体，其沿用语义网的理念，在开放世界假设基础上，面向地理空间数据的**可共享**、**可交换**、**互操作性**、**人机共同认知和理解**等问题，研究的主要内容是：**地理空间本体的设计和模式**、**已有地理空间数据和服务向地理空间本体的转换方法**、**不同地理空间知识库之间的本体对齐和实体对齐方法**、**社会感知/传感器网络等新型地理空间感知器知识库的建立**、**地理空间本体库的推理**等；

​		二是**地理知识图谱**，参与研究的主要群体是计算机信息科学领域的专家和团体，其沿用知识图谱的理念，面向地理空间知识图谱的构建、存储、丰化、推理和服务问题，研究的主要内容是：**地理空间知识库本体建模方法**、**地理空间数据库存储和优化**、**非结构化文本的地理信息抽取**、**非结构化文本的自动地理编码**、**地理空间知识库融合**、**地理空间知识推理和服务**等。

​		上述两个流派中，地理空间语义网研究领域以专业地理空间信息为主要对象，大量领域专家介入探讨专业地理空间知识的共享和融合方法，由于比较专业的地理空间信息大多集中在该技术领域，所以其更多以“地理空间知识服务者”和“地球科学数据整合者”的角度探讨问题；而地理知识图谱研究领域大量以垂直领域知识的积累和服务为重点，希望通过地理空间和时间的组织，能够更好地为领域知识图谱建设提供新知识和新服务，从地理空间数据角度而言，其更多以“地理空间知识拉取者”或“领域地理空间知识建设者”的角度探讨问题。

​		两者之间其实密不可分，地理知识图谱，

## 1. 文本中的地理引用	

- **地理引用（Geoeferences）**
  - 文本中对位置的指称（形式上为文本片段）被称为地理引用，也称**位置引用**、**位置标识**、**地理标签**。

- **地理引用的案例：**地理引用的形式多样，例如，以下形式都可以定位北京大学：

  - 北京市海淀区颐和园路5号 -- 北京大学的通信地址
  - 北京大学  --  北京大学的地名
  - 100871 -- 北京大学的中国邮政编码
  - X8P4+Q8   --  北京大学的谷歌开放位置码
  - 39.986913,116.3036799 -- 北京大学的经纬度

  - 此外，还有很多在专业领域编制的具有空间位置含义的编码，如：北京大学的不动产单元登记码、北京大学的城市管理网格码等，均可以纳入地理引用的范围。

- **人们总是期望地理引用具有如下属性：**
  - 明确性 ----  在某个给定的参考框架内，地理引用只专指一个位置，但地名等很难做到
  - 共知性  ---- 地理引用应当在使用它们的人之间能够共享，且他们清楚其地理含义
  - 时间不变性 ---- 地理引用应尽可能在时间上保持不变，但事实上，地名、行政区划等经常变化
  - 此外，地理引用通常与隐式的粒度相关，例如：偏远村庄的通信地址显然会采用比1米精度更粗的粒度

## 2.  文本的地理定位

- **地理定位（GeoReferencing）**
  - 将文本中的地理引用转换为物理空间中的某个位置（如：经纬度坐标）的任务，被成为地理定位
  - 地理定位将文本片段形式的地理引用，转换为特定物理空间中的位置，使其成为计算机能够识别的坐标值或空间实体，从而赋予了其地理语义
  - 识别文本中的地理引用有助于理解该文本的地理上下文，进而区分其与文本核心主题之间的关联度
- 地理信息抽取任务中：
  - 地理定位的起点是自然语言文本形式的文档或文本
    - 包含经度/纬度坐标、地名、地理区域（如国家）等各种形式的地理引用
  - 地理定位的终点是给出其在物理空间中的坐标值
  - 地理信息抽取追求的是自动执行该任务，这也是GIR的核心挑战
  - 目前大多数GIR聚焦在地名引用和地址引用的地理定位问题上，尽管地理引用的类型非常多
- **地理定位的过程**
  - **地理解析（GeoParsing）：**识别文本中地理引用的过程，可以理解为从文本中识别出地理引用的过程；
  - **地理编码（GeoCoding）：**解析地理引用的过程，可以理解为将上述地理引用解释为点、线、面等空间对象实体的过程，显然包含两个子过程
    - 获取地理引用所对应地理实体的唯一标识符
    - 根据地理实体唯一标识符获取其空间几何描述
  - **文档范围的地理定位**：
    - 上述工作面向文档级别的地理定位问题
    - 在其基础上，有学者研究文档中不同范围（如：段落）的地理定位问题

## 3. 地理解析技术概况

### 3.1 地理解析任务解释		

​		地理定位的基本任务是确定候选的地理引用。对于地名而言，也被称为地名解析或地名识别。该任务与信息提取领域的命名实体识别（NER）相当，即为文本中的每个单词或单词组分配一组预定义的类别或实体的过程，类比包括位置、人员或组织的名称、时间、日期和货币金额的数字表达式等。

<img src="https://raw.githubusercontent.com/shilang1220/imageBed/master/img/%E5%91%BD%E5%90%8D%E5%AE%9E%E4%BD%93%E8%AF%86%E5%88%AB%E6%A1%88%E4%BE%8B.jpg" style="zoom:67%;" />



​		例如：上表中的文本显示了命名实体识别系统的典型输出（其中：org指组织，loc之位置）。大多数NER系统都是由分词、词性标注、实体匹配等构成的处理管道。

​		在NER中，以前许多工作都是提取相当粗粒度的实体，目前更详细位置的实体识别研究也越来越广泛（Uryupina，2003；Axelrod，2003）。地名识别还可能涉及赋予指示地方类型的信息（例如：城市或城镇）。在地名识别中还必须处理和解决语义上的歧义。例如：“仙人指”指的是一个神仙的指头，还是一个地点。此类问题中同一个名称可能属于多个不同于地名的类别，通常也被称为参考类歧义或地理/非地理歧义（Amitay等人，2004）。

### 3.2 地理解析的基本做法

- 目前存在多种识别文本中潜在命名实体的方法，但无论何种方法，大多数都将已知地名词典（Hill，2000））、组织和人员列表与机器学习技术结合起来，或者与利用周围环境要素构建的规则结合起来
- 构建既全面（包含文件中提及的所有相关地名）又准确（不包含相同地名的副本，拼写或坐标略有变化）的地名辞典是一项基础性且具有挑战性的任务（Sehgal等人，2006年；Martins，2011年；Recchia和Louwerse，2013年）
- 建立高质量的地名辞典越来越多地与合并多个来源地名辞典数据联系在一起，这本身是一项非常重要的任务（Manguinhas等人，2008年；Smart等人，2010年）
- 自然语言中的地名用法不限于官方或行政用途，因此，地名辞典还应包含当地地名（民间地名）及其空间足迹（Keßler等人，2009年；Jones等人，2008年）

### 3.3 地理解析的主要方法类型

​		识别候选地理引用主要有三种方法（Leidner和Lieberman，2011）：

- 简单列表查找
- 基于知识或规则的方法
- 机器学习

### 3.4 基于列表查找的地理解析法

​		用于识别地理引用的基线方法是从事先生成的地名、地址、邮政编码、电话号码等列表中查找已知的实体。该方法简单、快速、独立于语言，并已成功用于识别一系列文本中的位置引用。例如，Mikheev等人（1999）研究表明，通过从中央情报局的世界概览中收集5000个位置，并根据MUC-7数据进行评估，简单的位置列表查找性能可以达到90-94%的准确率，75-85%的召回率。他们强调，已知列表的质量比其规模影响更大。

​		然而，该方法有许多缺点：

- 无法确定在地名辞典中没有的新实体
- 必须人工决定如何与清单中的条目匹配（例如：允许部分匹配还是坚持完全匹配）
- 无法保证某个词在文本中总是表示地理语义（例如：芝加哥可代表美国城市、流行音乐团体名称）；
- 地理引用通常以不同的形式出现，列表中必须同时包含其所有名称变种才能提高识别精度

### 3.5 基于知识或规则的地理解析法

​	更有效的方法是利用上下文环境。例如：在句子“Keep up on your reading with audio books”中，使用地名辞典的方法可能会将“on”、“reading”和“books”错误地分别识别为越南、英国和美国路易斯安那州的位置。然而，实际上这些条目显然没有地理意义，此时利用周围的上下文，会显著提高识别精度。

​	捕获上下文通常利用规则方法实现，即用语法来定义和表达上下文关系。此时，上下文中用于支撑地理引用的内容，被成为证据：

- **内部证据：**
  - 文本中通常有某种内在的结构或短语可以表明它们是地名，此类特征包括大写、前缀或后缀（如：公司标志）、地名列表等
  - 例如：一个位置的内部证据可能被定义为：“CapWord + { Street，Boulevard，Avenue，Crescent，Road }”，利用该规则可以捕获“Portobello Street”和“Sunset Boulevard”等地名

- **外部证据：**
  - 文本中可能存在上下文证据能够表明单词或短语是什么类型的实体
    - 例如：“President Washington chopped the tree”，“President”是明确的外部证据，表明“Washington”是一个人的名字，而不是一个地方
  - 可以建立上下文规则来帮助区分命名实体的类别，例如：
    - “North of CapWord”通常有助于识别一个地方
    - “Firstname + Location”，其中Firstname与常用人名列表相匹配，而Location与地名录匹配，符合这种规则的Location，可以被推断为是没有地理意义的Location。
- 规则实现方法：
  - 通过定义封装规则的正则表达式，采用文本匹配方式执行
  - 常见基于正则表达式的模式匹配工具包括：lex、flex、fgrep等

### 3.6 基于机器学习的地理解析法

​			在旧的NER系统中，规则通常是手工创建的；然而，大多数现代方法使用机器学习方法从以前的已分类（或标注）训练集中捕获上下文信息特征，进而实现自动归纳规则；训练后的模型可以用来分类新地名。

- 机器学习方法包括：隐马尔可夫模型、决策树、最大熵等
- Curran和Clark（2003）使用了最大熵来标记来独立于语言的特征，包括：词性、前后命名实体列表、单词是否为名字或姓氏等。根据CoNLL2003 NE任务的数据，Curran和Clark的F1分数分别为87.7%（英语）、71%（德语）和83.2%（荷兰语）

机器学习方法的两个问题是：

- 训练数据问题
- 分类器的泛化能力问题

### 3.7 半结构化数据的地理解析	

​		许多研究者还讨论了半结构化web内容的地理定位问题（McCurley，2001；Borges et al.，2003；Morimoto et al.，2003）。例如：

- Borges等人2003年使用Wrapper归纳法从网页中提取地址
- Wrapper是一种严重依赖于文档格式和标记语言来归纳IE模式的系统
- 带有用户标注的地名样本页面被用于创建通用包装器，其方法是根据网页结构和围绕地名的HTML标记生成模式，并导出一组正则表达式，用于对其他网页进行地名提取
- 这种形式的规则泛化（本质上是一种提取规则，不依赖于地名本身，仅依赖于地名上下文的结构和格式）被成功地用于从同一个网站的65个网页中提取酒店、餐厅、酒吧、博物馆和其他文化景点信息



## 4. 地理编码技术概况

4.1 地理编码技术详解



4.2 地理编码的主要技术方法





## 5. 文本地理范围的计算





## 6. 隐性位置的建模



## 7. 地理解析和地理编码的评估



## 8. 总结