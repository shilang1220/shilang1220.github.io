---
layout:     post
title:      "地理知识图谱「 11 」"
subtitle:   "从自然语言文本中收割地理空间大数据"
date:       2020-07-20 10:00:00
author:     "西山晴雪"
header-img: "img/post-bg-android.jpg"
categories: Geographic Knowledge Graph
tags:
    - 地理知识图谱
    - 自然语言处理
    - 地名识别
    - 地名解析
    - 隐性位置信息提取
    - 应用场景
---

# 从自然语言文本中收割地理空间大数据

## 1 概况和动机

### 1.1 地理空间信息来源多种多样

- 传统数据集

	- 地理空间信息是由各种各样的数据源产生的。除了来自美国地质调查局（USGS）和美国人口普查等机构的常用数据集

- 新型数据源

	- 新闻文章
	- 百科全书条目
	- 社交媒体帖子
	- 历史档案
	- 房屋广告
	- 在线评论
	- 旅游博客条目
	- ...

### 1.2 新型数据源的特点

- 地理空间数据嵌入在自然语言文本中，通常以地名和地名描述的形式出现

### 1.3 从自然语言文本中挖掘地理空间数据的原因

- （1）互补性：它们提供了其他数据集无法提供的有价值的信息

	- 例如，旅游博客不仅描述了人们去过哪里，还描述了他们对这些地方的感受。这些关于人类经验的信息对于建立地方的计算模型至关重要

- （2）实时性：部分自然语言文本能够反映近实时的情况

	- 例如：相对于问卷调查或访谈，社交媒体数据信息反映更及时
	- 社交媒体获得的地理空间数据可能不具有代表性，但灾害救援和其他态势感知应用通常侧重于识别事件，而不是考虑某种代表性，如：被困在倒塌建筑物中的三人是否代表研究区域的全部人口

- （3）必要性：一些地理空间数据只在非结构化文本中可用

	- 例如：报纸上的事件、旧档案中的历史战争、网页中的商业地址
	- 在这些情况下，从文本中获取地理空间数据是实现高级空间分析所必需的

### 1.4 相关研究

- 在地理信息检索（GIR）中，从非结构化文本中获取地理空间数据是地理信息检索GIR中经常研究的课题
- 地名解析：显性地理空间数据提取

	- 地名解析的目标是识别文本中提到的地名或地名，并确定识别出的地名的相应实例和位置坐标
	- 为地名解析开发的软件工具称为地名解析器件

		- 它以非结构化自然语言文本为输入，识别并输出带有地名及其位置坐标的结构化地理数据

	- 地名解析的两个步骤

		- 地名识别

			- 从自然语言文本中识别地名，而不需要识别某个名称所指的特定地点

				- 例如：在“华盛顿是崎岖的西南小道上的重要一站”这句话中，“华盛顿”一词将被视为地名，但这一步不会试图理解这个词具体指的是哪个华盛顿（美国有50多个地方被命名为“华盛顿”）。

		- 地名解析（或地理编码）

			- 旨在解决地名歧义问题，将地名解析为正确的实例和地理位置。

				- 例如：发现上例中“华盛顿”指的是“华盛顿，阿肯色州”，并将地名定位到其相应的空间足迹上（例如：城市边界的几何中心）

- 隐性地理空间数据提取

	- 非空间词（如beach和sunshine），可以隐含表示地理位置。

		- 在包含与地球上位置相关的文档语料库的上下文中，某些单词和短语可能或多或少与特定位置相关。
		- 非空间词在描述自然物理环境和（/或）当地文化习俗的文本中最为明显

	- 带有地理标签的文本中能够发现有关空间的知识

		- 例如：带有GPS定位的tweet、标有地名的旅游博客

- 文本定位的问题

	- 对于较短的文档，通常整个文本内容可以与一个或几个地名相关联
	- 对于较长的文本，将地名与文本中正确的选择联系起来的任务仍然是一个开放的研究问题

		- 需要更复杂的语义实体链接和关系提取

## 2 方法和工具

### 2.1 地名识别

- 方法1：使用地名词典匹配的方法

	- 问题：未登录地名识别率低
	- 解决办法

		- 地名词典的丰化

			- 例1：用方言或模糊地名充实现有地名词典，鼓励当地人贡献当地地名。
			- 例2：开发自动算法，将OpenStreetMap和Wikimapia中的地名添加到地名词典中
			- 例3：使用地理标签的照片和相关文本标签为地名索引添加模糊位置
			- 例4：对地理标记的租售房屋帖子（其中经常提到当地地名）进行了研究，以补充当地地名和丰富地名词典

- 方法2：利用NLP技术识别地名

	- 优点

		- 可以不依赖地名词典识别地名

			- 它利用目标词的当地语境中的词（例如，围绕目标词的前五个词和后五个词）来推断目标词是否是地名的一部分

		- 许多现有的研究已经把斯坦福纳作为他们工作流程的一部分。例如，Karimzadeh等人（2013）开发了GeoTxt，其中Stanford NER用于命名实体识别步骤。Gelernter和Mushegian（2011）还利用Stanford NER在2011年坎特伯雷克赖斯特彻奇（Christchurch，Canterbury）地震后从推特中识别出地点名称。Lieberman等人（2010）利用Stanford NER从本地新闻文章中找到位置实体，以便为文本数据建立空间索引。除了Stanford-NER，研究人员还使用了其他的NER模型。例如，Gelernter等人（2013）利用OpenCalais从文本中查找建筑名称，Hu等人（2018）使用spaCy-NER作为四种NER模型之一，从地理标记的房屋柱中识别地名。许多研究还利用数据中的各种证据，如词性（POS）标记、左词、右词、实体关系和其他可能的线索（Lieberman and Samet，2011；Inkpen et al，2015），训练了自己的地名识别NER模型

	- 技术方法

		- 基于人工规则的提取方法

			- 利用人工定义的语法规，结合正则表达式等提取地名
			- 例如，“hnamei城市”和“hnamei Boulevard”模式中的名称通常是地名，而“名字hnamei”模式中的名称通常不是地名

		- 基于机器学习的提取方法

			- 基于机器学习的方法来基于文本中的上下文证据来识别地名。
			- 例如：Standford NER

		- 基于深度学习的提取方法

			- 基于深度神经网络实现的命名实体识别

### 2.2 地名解析

- 核心问题

	- 地名歧义

		- 一词多地，即相同的名称可以指世界上不同的地理实例

			- 例如：世界上存在很多名为“伦敦”的地名

		- 一词多义

			- 相同的名称，不仅可以指代地点，还可以指人和其他类型的实体

				- 如：华盛顿可以是地名也可以是人名

	- 转喻问题

		- 地名转喻为其他实体

			- 例如：“伦敦投票通过一项法案”，其中“伦敦”可能不代表地方，而是代表政府实体
			- 许多地理解析器不直接处理此类转喻，因为承认和解决“伦敦”为英国首都并非完全不合理

		- 其他名称转喻为地名

			- 例如：“大裤衩”借喻为“中央电视台大楼”

	- 地名提取错误的处理

		- 假正地名

			- 并非地名的词汇被识别为地名

				- 通过地名解析的各种去模糊技术可以部分消除

		- 假负地名

			- 本来是地名的词汇，没有被正确识别出来

				- 因为是漏网之鱼，暂时没有太好的办法

- 主要方法

	- 基于规则匹配的方法

		- 结合其他领域知识，并定义消岐规则

			- 例1：将人口数量作为地名消岐的控制因素
			- 例2：利用搜索引擎结果的排序进行地名消岐
			- 例3：利用行政层级、地区人口、城市等级等作为地名消岐的控制因素
			- 例4：利用文本中地名出现的次数作为地名消岐的控制因素

	- 基于机器学习的方法

		- 结合文本中的上下文，自动或半自动生成消岐规则

			- 例1：利用文本中地名同时出现的频度，作为消岐依据
			- 例2：利用外部语料库建立概念密度的方法消除地名歧义
			- 例3：利用多种方法和信息资源（包括实体名称和提示词词典、词性标记和NER等统计方法）消除地名歧义
			- 例4：使用地理标记的Wikipedia文章训练地理和非地理词汇上下文消除地名歧义
			- 例5：使用候选词与文档中其他位置之间的地理空间距离以及地点引用出现的文本上下文消除地名歧义
			- 例6：结合实体共现和主题建模识别各种上下文线索（即相关实体和主题词），以增强地名消歧
			- 例7：利用社交媒体特定功能，如社交互动、用户位置一致性以及与tweets相关的元数据字段消除地名歧义


### 2.3 主要的地名解析器和工具

- 通用NER工具

	- 地名识别可视为计算语言学中命名实体识别或词义消歧的一个子任务。因此，从文本中提取地名的一种方法是使用计算机科学界开发的现有的NER工具，并且只在提取的实体中保留位置。

		- Stanford NER
		- spaCy NER(https://spacy.io/)
		- DBpedia Spotlight
		- Open Calais(http://www.opencalais.com)

- 专用地名解析器

	- 专门为识别和解析地名而设计的地名解析器

		- 开源工具

			- GeoTxt：利用Stanford NER进行地名识别，并使用地名和一组启发式规则进行地名解析。
			- TopoCluster：无需使用地名词典就能进行地名解析，使用Stanford-NER从文本中识别地名，然后根据周围环境中单词的地理分布来解析地名
			- CLAVIN：开源的地理搜索器，同时使用Stanford NER和Apache OpenNLP，并利用地名索引和模糊搜索来解决地名解析问题
			- Edinburgh：利用自己开发的地名识别软件，并结合GeoNames等地名词典实现地名解析

		- 商业工具

			- Yahoo PlaceSpotter 

				- (https://developer.yahoo.com/boss/geo/docs/PM_KeyConcepts.html) 

			- Geoparser.io

				- (https://geoparser.io/)

	- yahoo.com/boss/geo/docs/PM_KeyConcepts.html）和地质公园.io(https://geoparser.io/)，这通常会限制可请求的免费API调用的数量。

### 2.4 基于语言模型的隐性位置推理

- 隐性地名解析问题

  - 地名解析器能够识别和定位文本中提到的地名，但文本中也存在未明确提及地名，但包含隐性位置信息的情况。
- 已有大量利用计算语言模型，而非地名提取文本位置的方法

  - 基于词特征的文档级位置机器学习分类器

  	- 通常使用简单的空间模型，如区域和测地网格，在大量数据上训练预测分类

  - 创建更适合分析文本中空间语言的语言模型

  	- 捕捉自然语言中空间关系的语义。所开发的语言模型可以提取出潜在的空间信息
  	- 需要完整的NLP管道支撑，如：空间解析之前首先识别文本中的词性和依赖性

  - 词汇方言学

  	- 将特定的语言特征与地球上的地方联系起来，进而改进地理定位文本的模型

### 2.5 常见的测评语料库

- TRCoNLL，这是一个人工标注的新闻语料库，由来自路透社的大约1000篇国际新闻文章和大约6000个地名组成。
- “Local-Global Lexicon (LGL)”语料库，其中包含78家地方报纸发表的588篇新闻文章，这些文章来自高度模糊的地方，如巴黎新闻（德克萨斯州）和巴黎灯塔新闻（伊利诺伊州）。
- Hu等人（2014）提供了一个半自动标注的语料库，其中包含来自美国两个高度模糊地名的城市网站的文本描述，即华盛顿和格林维尔。
- WikToR，这是一个维基百科文章的语料库，名字模棱两可，如秘鲁利马、俄亥俄州利马和俄克拉荷马州利马，由Python脚本自动注释。
- GeoCopora推文数据集，该数据集使用基于亚马逊的Mechanical Turk的众包方法进行人工注释，并由专家进一步验证
- 除当代语料库外，还提供了一些历史数据集，如《War Of The Rebellion》
- ACE2005 English SpatialML是语言数据联盟上共享的带注释的新闻语料库，但它对非成员收取费用（1000美元）

## 3 应用场景

### 3.1 用于理解基于地点的人类体验和人文知识

- 空间（space）和地点（place）的区别
  - 两者是地理学中两个相互关联但又有着不同的概念
  - 地理信息的定量统计分析几乎完全集中在space分析上，而place是人文地理学学术研究的主要课题
- 数字人文

	- 藏匿在图书馆和网上的大量藏品中的地理空间信息被视为空间历史和文学分析的金矿。
	- 因为许多工具都是建立在现代地名词典上的，因此通常需要定制解决方案从历史文本中自动提取地理信息
	- 历史地名词典

		-  World-Historical Gazetteer

			- (http://whgazetteer.org)

		- Pleiades

			- (https://pleiades.stoa.org)

	- 从人文学科的各种文件中提取地理空间数据，建立空间索引，为从地理角度探索人文知识提供了另一种方法
- 人类体验

	- 互联网上越来越多的以人文地理place为主的VGI地理数据（特别是社交媒体数据），成为定量数据驱动研究工作者越来越感兴趣的话题
	- 在现象学意义上，place常常被描述为通过人类经验（直接或间接）产生意义的空间。对大量文本中人们体验的非结构化观察数据，为研究这种现象学提供了一个新的窗口（以前仅限于较小规模的人文注意研究）。
	- 可以对文本中的关键词、主题、情绪分析等不同的方法来概括人类的多种体验
	- 除了从一般意义上更好地理解地方之外，通过分析大地理数据来了解地方还被用于多种应用，包括旅游业、城市研究、政治学、公共卫生、市场营销和社会语言学研究。

### 3.2  用于应急事件的态势感知

- 应急响应应用通常需要实时数据支持。
  - 很多这样的数据都是以自然语言文本的形式出现的，例如：
    - 社交媒体帖子、短文本消息、电话（或语音信息）转换的文本，以及记者在紧急情况下发送的新闻报道。
    - 在紧急情况发生后，来自不同来源的信息涌入应急行动中心，令第一反应人员不知所措。利用自动化方法和工具对于从海量数据中提取位置信息（例如，谁在哪个位置需要帮助）变得非常有用
- 应用案例

	- 例1：De Longueville等人（2009年）调查了2009年法国南部一场重大森林火灾期间推特的空间、时间和社会动态
	- 例2：Crooks等人（2013）研究了2011年美国东海岸发生5.8级地震后推特的时空特征
	- 例3：Nagar等人（2014）利用纽约市的每日地理标签推文，调查了与流感样疾病（ILI）相关的时空推特行为
	- 例4：MacEachren等人（2011年）开发了SensePlace2，这是一个可视化分析系统，支持对Twitter数据进行时空主题探索，以便进行态势感知和危机管理。
	- 例5：Gelernter和Balaji（2013）提出了一种算法，用于从2011年新西兰克赖斯特彻奇地震后发布的推文内容中提取各种形式的地名，例如缩写、拼写错误或高度本地化的地名。
	- 例6：Issa等人（2017年）研究了四个不同城市关于流感的推文的空间扩散，使用了地理标记和非地理标记的推文。
	- 例7：Wang和Stewart（2015）通过从新闻文本中提取地名、时间戳和紧急信息（例如停电）来研究飓风桑迪的影响。

### 3.3 用于虚拟空间和认知地理

- 文本能够捕捉到的虚拟空间或认知空间中地点间的关系

	- 传统方法

		- 基于空间坐标和邻近性来组织
		- 例如：位于同一地理区域的地块数据集

	- 文本方法

		- 文本（如：网页、社交媒体帖子和新闻文章等）可以提及相距遥远甚至全球范围内的多个地方，从而将这些地方联系在一起
		- 地名共现通常被视为此类地名关系的证据，根据应用需要，可以使用不同的文本上下文（例如句子、段落甚至整篇文章）来确定地名是否同时出现
		- 地点间关系也可以通过超链接建立，比如维基百科文章和其他网页上的超链接

- 自然语言文本为理解虚拟空间和认知空间中各种动态空间关系提供了重要的来源

	- 例1：一个运动队可能从家乡前往另一个城市参加比赛
	- 例2：一个国家的公司可能会在另一个国家设立新的分支机构
	- 例3：自然灾害（如飓风和洪水）会对多个城镇产生影响
	- 例4：维基百科页面和在线博客可以讨论两个地方在气候、人口、地理位置等方面的相似性和不同性
	- 例5：在社交媒体上，人们可以谈论和比较不同地方的生活方式、食物和文化
	- 例6：大多数地方在虚拟或网络空间中相互连接，形成了地方网络

- 研究案例：

	- Hecht和Moxley（2009）利用Wikipedia页面中的超链接对地点关系进行了早期研究，发现虽然距离较远的地方仍然可以有关系，但附近的地方比遥远的地方更有可能发生关系。
	- Liu et al（2014）研究了一组新闻文章中的地名共现现象，发现新闻文章中的地名关联性与人类活动产生的地名关联性相比，具有较弱的距离衰减效应。
	- Zhong等人（2017）还研究了新闻文章中的地名共现现象，得出结论认为，如果地方处于同一行政级别或具有部分-整体关系（例如，西雅图是华盛顿州的一部分），则它们更可能有关联。
	- Salvini和Fabrikant（2016）分析了维基百科页面中的地名共现现象，并通过维基百科页面的类别考察了地名关系的语义。
	- 同样，基于维基百科文章中地名同时出现的情况，Spitz等人（2016）构建了地名网络以消除地名歧义。
	- Adams和Gahegan（2016）通过分析文本中地点和时间的共现，对Wikipedia语料库进行时空（chronotopic）分析，以了解叙事文本中的地点、空间和时间之间的内在关系。
	- Hu et al（2017）研究了新闻文章中的地名共现现象，并采用话题建模方法对地名关系的语义话题进行了注释。

		- 在不同的语义主题下，地点具有不同的关系优势，因而在地点网络中的位置突出度也不同
		- 例如：华盛顿特区在政治主题下的作用比在科学技术主题下的作用要大得多；相比之下，旧金山在科技网络中的地位大大提高，而它在政治话题下的地位则大大提高。

## 4 未来发展方向

### 4.1 识别准确度的提神

- 深度学习的进步（如双向递归神经网络）可以帮助提高从文本中识别地名的准确性
- 新的NLP方法有助于更好地识别文本中使用的转喻

### 4.2 非点状位置解析

- 目前大多数方法将地名解析为基于点的位置，而有些河流、国家和其他地理要素的空间足迹可以更好地表示为多段线、多边形，甚至多面体（在三维空间中）

### 4.3 开发基线测试平台

- 设计和开发基线测试平台可能有助于比较和评估地理解析器

